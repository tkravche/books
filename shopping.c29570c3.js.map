{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-be25effc728879bb.js","src/shopping.js","src/js/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-9023f7cb3fb4b663.js","node_modules/@parcel/runtime-js/lib/runtime-15ad37f73d0441fe.js","node_modules/@parcel/runtime-js/lib/runtime-a9cee40a7d10da03.js","node_modules/@parcel/runtime-js/lib/runtime-8edfe95a0846d38c.js","node_modules/@parcel/runtime-js/lib/runtime-cbbc469688bd4e10.js","node_modules/@parcel/runtime-js/lib/runtime-2c74de947bbcec76.js","node_modules/@parcel/runtime-js/lib/runtime-3fd241a4320c6f53.js","node_modules/@parcel/runtime-js/lib/runtime-a413b99f74e7d4e1.js","node_modules/@parcel/runtime-js/lib/runtime-f2bb45e06c33afca.js","node_modules/@parcel/runtime-js/lib/runtime-6a9f9d8a459e9087.js","node_modules/@parcel/runtime-js/lib/runtime-5a33c45210909842.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3bDNW\\\":\\\"shopping.c29570c3.js\\\",\\\"8sfzT\\\":\\\"sprite.3e83a086.svg\\\",\\\"7aOuY\\\":\\\"amazon1.c9513f1c.png\\\",\\\"7AMlp\\\":\\\"amazon2.468bb970.png\\\",\\\"3AlIy\\\":\\\"amazon3.25420e04.png\\\",\\\"5HT3z\\\":\\\"apple1.99f5b86b.png\\\",\\\"cf7y6\\\":\\\"apple2.ceabda8c.png\\\",\\\"5lC0O\\\":\\\"apple3.8096cc16.png\\\",\\\"kzWVK\\\":\\\"bookshop1.579c7059.png\\\",\\\"6o20O\\\":\\\"bookshop2.b7dbaeb3.png\\\",\\\"c7yZ9\\\":\\\"bookshop3.1927bef9.png\\\",\\\"307q5\\\":\\\"books1.764d3daa.png\\\",\\\"8JNnL\\\":\\\"index.1fb45fbf.js\\\"}\"));","import './js/booksAPI-service.js';\nimport './js/common.js';\n\nimport './js/shopping-list.js';\n","import { refs } from './refs';\nimport { common } from './common';\nimport { getBookById } from './booksAPI-service';\nimport dumpSvg from '../images/icons/sprite.svg';\nimport amazonImg1 from '../images/amazon1.png';\nimport amazonImg2 from '../images/amazon2.png';\nimport amazonImg3 from '../images/amazon3.png';\nimport appleShopImg1 from '../images/apple1.png';\nimport appleShopImg2 from '../images/apple2.png';\nimport appleShopImg3 from '../images/apple3.png';\nimport bookShopImg1 from '../images/bookshop1.png';\nimport bookShopImg2 from '../images/bookshop2.png';\nimport bookShopImg3 from '../images/bookshop3.png';\nimport books from '../images/books1.png';\n\n\nconst  shoppingBookIdsList = JSON.parse(localStorage.getItem(common.KEY_SHOPPING))?? [];\n\nfunction createShoppingListMarkup({\n  _id,\n  book_image,\n  title,\n  list_name,\n  description,\n  author,\n  buy_links,\n}) {\n  return `<li data-id = ${_id}><div class=\"shopping-list-bookinfo-wrapper\">\n  <button class=\"delete-book-btn js-dump-btn\" aria-label=\"Delete added book\">\n    <svg class=\"js-dump-btn\" width=\"34\" height=\"34\">\n      <use class=\"js-dump-btn\" href=\"${dumpSvg}#icon-dump\"></use>\n    </svg>\n  </button>\n  <div class=\"shopping-list-info-wrapper\">\n    <img\n      class=\"shopping-list-book-image\"\n      src=\"${book_image}\"\n      alt=\"cover\"\n      width=\"192\"\n      height=\"281\"\n    />\n    <div class=\"shopping-list-text-content\">\n        <div class=\"another-wrapper\">\n      <h2 class=\"shopping-list-book_title\">${title}</h2>\n      <h3 class=\"shopping-list-book_category\">${list_name}</h3>\n      <p class=\"shopping-list-description\">${description}</p>\n    </div>\n      <div class=\"author-links-wrapper\">\n        <h3 class=\"shopping-list-author\">${author}</h3>\n        <ul class=\"shopping-list-links-container\">\n          <li>\n            <a\n              href=\"${buy_links[0].url}\"\n              target=\"blank\"\n              rel=\"nofollow noopener noreferrer\"\n              aria-label=\"Link to shop\"\n              class=\"shopping-list-links-icon\"\n            >\n              <img\n                src=\"${amazonImg1}\"\n                srcset=\"${amazonImg2} 2x, ${amazonImg3} 3x\"\n                alt=\"Logo of shop\"\n                width=\"62\"\n              />\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"${buy_links[1].url}\"\n              target=\"blank\"\n              rel=\"nofollow noopener noreferrer\"\n              aria-label=\"Link to shop\"\n              class=\"shopping-list-links-icon\"\n            >\n              <img\n                src=\"${appleShopImg1}\"\n                srcset=\"${appleShopImg2} 2x, ${appleShopImg3} 3x\"\n                alt=\"Logo of shop\"\n                width=\"33\"\n              />\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"${buy_links[2].url}\"\n              target=\"blank\"\n              rel=\"nofollow noopener noreferrer\"\n              aria-label=\"Link to shop\"\n              class=\"shopping-list-links-icon\"\n            >\n              <img\n                src=\"${bookShopImg1}\"\n                srcset=\"${bookShopImg2} 2x, ${bookShopImg3} 3x\"\n                alt=\"Logo of shop\"\n                width=\"30\"\n              />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div></li>`;\n}\n\nfunction populateShoppingList(ids) {\n  ids.map(id =>\n    getBookById(id).then(data => {\n      refs.shoppingList.insertAdjacentHTML(\n        'beforeend',\n        createShoppingListMarkup(data)\n      );\n    })\n  );\n}\n\nfunction showEmptyShoppingListMessage() {\n  refs.shoppingListEmpty.innerHTML = `\n    <p class=\"shopping-list-empty-info\">\n      This page is empty, add some books and proceed to order.\n    </p>\n    <img class=\"shopping-list-empty-bg\" src=\"${books}\" alt=\"books\" />\n  `;\n}\n\nif (shoppingBookIdsList.length === 0) {\n  showEmptyShoppingListMessage();\n} else populateShoppingList(shoppingBookIdsList);\n\nfunction deleteShoppingListItem(e) {\n  if (e.target.classList.contains('js-dump-btn')) {\n    const bookId = e.target.closest('li').dataset.id;\n    const bookIndex = shoppingBookIdsList.findIndex(id => id === bookId);\n    shoppingBookIdsList.splice(bookIndex, 1);\n    localStorage.setItem(common.KEY_SHOPPING, JSON.stringify(shoppingBookIdsList));\n    refs.shoppingList.innerHTML = '';\n    if (shoppingBookIdsList.length === 0) {\n      showEmptyShoppingListMessage();\n    } else populateShoppingList(shoppingBookIdsList);\n  }\n}\n\nrefs.shoppingList.addEventListener('click', deleteShoppingListItem);\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8sfzT\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7aOuY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7AMlp\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3AlIy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5HT3z\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cf7y6\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5lC0O\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kzWVK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6o20O\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"c7yZ9\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"307q5\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$krGWQ","$be38923d7f70d1bd$exports","URL","resolve","import","meta","url","toString","$c90d21968266ce81$exports","$82dfa2bbd328fd2f$exports","$3f397a4669ad4c51$exports","$c21598705d17853d$exports","$6c9d3e87c616df4a$exports","$32f7dcb2897ee0d5$exports","$5066222075dc3c4e$exports","$70ac3de60b51a011$exports","$38774b85f666e5f0$exports","$e5c62ffd1c5d842f$var$ref","$3dfc294408dccc2d$exports","$e5c62ffd1c5d842f$var$shoppingBookIdsList","localStorage","getItem","$7EEHk","common","KEY_SHOPPING","$e5c62ffd1c5d842f$var$populateShoppingList","ids","map","$2MwmQ","getBookById","then","data","refs","shoppingList","insertAdjacentHTML","_id","book_image","title","list_name","description","author","buy_links","$parcel$interopDefault","$e5c62ffd1c5d842f$var$createShoppingListMarkup","$e5c62ffd1c5d842f$var$showEmptyShoppingListMessage","shoppingListEmpty","innerHTML","addEventListener","e","target","classList","contains","bookId","closest","dataset","bookIndex","findIndex","splice","setItem","stringify"],"version":3,"file":"shopping.c29570c3.js.map"}