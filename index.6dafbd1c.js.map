{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-0316cf024138617e.js","src/index.js","src/js/side-list.js","src/js/bookshelf.js","src/js/book-modal.js","node_modules/@parcel/runtime-js/lib/runtime-3a12a5302865f4c8.js","node_modules/@parcel/runtime-js/lib/runtime-9c64e775c1319898.js","node_modules/@parcel/runtime-js/lib/runtime-05f8a4611bc3140f.js","node_modules/@parcel/runtime-js/lib/runtime-d6adc3c3b49e7108.js","node_modules/@parcel/runtime-js/lib/runtime-83f8828805f0f1b9.js","node_modules/@parcel/runtime-js/lib/runtime-c74d304724153f3c.js","node_modules/@parcel/runtime-js/lib/runtime-b7b0af46394bf044.js","node_modules/@parcel/runtime-js/lib/runtime-bed98f32250fa77a.js","node_modules/@parcel/runtime-js/lib/runtime-c7d91e7e391da5b5.js","node_modules/@parcel/runtime-js/lib/runtime-fdd386310206a72c.js","src/js/scroll-up.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.6dafbd1c.js\\\",\\\"ei4R3\\\":\\\"amazon1.c9513f1c.png\\\",\\\"6hscl\\\":\\\"amazon2.468bb970.png\\\",\\\"bvZ8I\\\":\\\"amazon3.25420e04.png\\\",\\\"cYITP\\\":\\\"apple1.99f5b86b.png\\\",\\\"lqiqk\\\":\\\"apple2.ceabda8c.png\\\",\\\"9Som1\\\":\\\"apple3.8096cc16.png\\\",\\\"ijrEh\\\":\\\"bookshop1.579c7059.png\\\",\\\"1jQa8\\\":\\\"bookshop2.b7dbaeb3.png\\\",\\\"aaRVJ\\\":\\\"bookshop3.1927bef9.png\\\",\\\"gwbLm\\\":\\\"sprite.3e83a086.svg\\\",\\\"cIs3N\\\":\\\"index.0756cf94.js\\\"}\"));","import './js/booksAPI-service.js';\nimport './js/refs.js';\nimport './js/common.js';\n\nimport './js/side-list.js';\nimport './js/bookshelf.js';\nimport './js/book-modal.js';\nimport './js/scroll-up.js';\n","import { getAllCategoriesList} from './booksAPI-service';\nimport { refs } from './refs';\n\nfunction createCategoriesListMarkup(categories) {\n  return categories\n    .map(\n      category => `<li class=\"category-item\" data-category=\"${category.list_name}\">\n    ${category.list_name}</li>`\n    )\n    .join('');\n}\n\nfunction renderCategoriesList(categoriesList) {\n  refs.categoriesList.innerHTML = createCategoriesListMarkup(categoriesList);\n}\n\ngetAllCategoriesList().then(data => {\n  renderCategoriesList(data);\n  });\n\n","import { getBestSellers, getBooksByCategory } from './booksAPI-service';\nimport { refs } from './refs';\n\nconst contentTitle = refs.bookshelfTitle;\n\nfunction createBookshelfMarkup(bestsellers) {\n  return bestsellers\n    .map(\n      ({ list_name, books }) => `\n    <li class=\"bookshelf-item\">\n    <h3 class=\"bookshelf-category\">${list_name}</h3>\n    <ul class=\"bookshelf-books\">${books\n      .map(\n        ({ _id, book_image, title, author }) =>\n          `<li class=\"bookshelf-book\" id=\"${_id}\">\n                <div class=\"overlay-container\">\n        <img src=\"${book_image}\" alt=\"${title}\" width=\"180\"\n        height=\"256\" data-img-id=\"${_id}\" loading=\"lazy\" class=\"book-img\">\n        <div class=\"overlay\">\n    <div class=\"overlay-text\">Quick view</div>\n  </div>\n  </div>\n        <div class=\"book-info\"><p class=\"book-title\">${title}</p>\n        <p class=\"book-author\">${author}</p></div></li>`\n      )\n      .join('')}</ul>\n    <button class=\"see-more-btn\" data-category=\"${list_name}\">See More</button>\n     </li>`\n    )\n    .join('');\n}\n\nfunction renderCategoriesList(bestsellers) {\n  refs.categoryBookshelf.innerHTML = createBookshelfMarkup(bestsellers);\n}\n\n// Best Sellers on first load\ngetBestSellers().then(data => {\n  renderCategoriesList(data);\n});\n\nfunction createBooksByCategoryMarkup(bookslist) {\n  return (\n    bookslist\n      .map(\n        book => `<li class=\"bookshelf-book\" id=\"${book._id}\" data-category=\"${book.list_name}\">\n        <div class=\"overlay-container\">\n<img src=\"${book.book_image}\" alt=\"${book.title}\" width=\"180\"\nheight=\"256\" data-img-id=\"${book._id}\" loading=\"lazy\" class=\"book-img\">\n<div class=\"overlay\">\n<div class=\"overlay-text\">Quick view</div>\n</div>\n</div>\n<div class=\"book-info\"><p class=\"book-title\">${book.title}</p><p class=\"book-author\">${book.author}</p></div></li>`\n      )\n      .join('') +\n    `<div><button class=\"all-categories-btn\">All Categories</button></div>`\n  );\n}\n\nfunction renderBooksByCategory(bookslist) {\n  refs.categoryBookshelf.innerHTML = createBooksByCategoryMarkup(bookslist);\n  refs.categoryBookshelf.classList.add('clicked-category');\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\nfunction currentCategoryToggle(category) {\n  document.querySelector('.current').classList.remove(`current`);\n  document\n    .querySelector(`li[data-category=\"${category}\"]`)\n    .classList.add(`current`);\n}\n\n// Category\nrefs.categoriesList.addEventListener('click', e => {\n  if (e.target.classList.contains('category-item')) {\n    const category = e.target.dataset.category;\n    const accentedCategory = category.split(' ');\n    const notAccentedCategory = accentedCategory\n      .slice(0, accentedCategory.length - 1)\n      .join(' ');\n    const lastAccentedCategory = accentedCategory.slice(\n      accentedCategory.length - 1\n    );\n    getBooksByCategory(category).then(data => {\n      renderBooksByCategory(data);\n      currentCategoryToggle(category);\n      contentTitle.innerHTML = `<span class=\"bookshelf-title\">${notAccentedCategory}</span><span class=\"bookshelf-title-accent\"> ${lastAccentedCategory}</span>`;\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    });\n  }\n});\n\n// \"See more\" Button\nrefs.categoryBookshelf.addEventListener('click', e => {\n  if (e.target.classList.contains('see-more-btn')) {\n    const category = e.target.dataset.category;\n    const accentedCategory = category.split(' ');\n    const notAccentedCategory = accentedCategory\n      .slice(0, accentedCategory.length - 1)\n      .join(' ');\n    const lastAccentedCategory = accentedCategory.slice(\n      accentedCategory.length - 1\n    );\n    getBooksByCategory(category).then(data => {\n      renderBooksByCategory(data);\n      currentCategoryToggle(category);\n      contentTitle.innerHTML = `<span class=\"bookshelf-title\">${notAccentedCategory}</span><span class=\"bookshelf-title-accent\"> ${lastAccentedCategory}</span>`;\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    });\n  }\n});\n\n// \"All categories\" Button\nrefs.categoryBookshelf.addEventListener('click', e => {\n  if (e.target.classList.contains('all-categories-btn')) {\n    getBestSellers().then(data => {\n      renderCategoriesList(data);\n      document.querySelector('.current').classList.remove(`current`);\n      refs.allCategories.classList.add(`current`);\n      contentTitle.innerHTML = `<h2 class=\"bookshelf-title\">\n      Best Sellers <span class=\"bookshelf-title-accent\">Books</span>\n    </h2>`;\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    });\n  }\n});\n\n// \"All categories\" from the Categories List\nrefs.allCategories.addEventListener('click', e => {\n  getBestSellers().then(data => {\n    renderCategoriesList(data);\n    contentTitle.innerHTML = `<h2 class=\"bookshelf-title\">\n  Best Sellers <span class=\"bookshelf-title-accent\">Books</span>\n</h2>`;\n    document.querySelector('.current').classList.remove(`current`);\n    refs.allCategories.classList.add(`current`);\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n});\n","import { refs } from './refs';\nimport { common } from './common';\nimport { getBookById } from './booksAPI-service';\nimport amazonImg1 from '../images/amazon1.png';\nimport amazonImg2 from '../images/amazon2.png';\nimport amazonImg3 from '../images/amazon3.png';\nimport appleShopImg1 from '../images/apple1.png';\nimport appleShopImg2 from '../images/apple2.png';\nimport appleShopImg3 from '../images/apple3.png';\nimport bookShopImg1 from '../images/bookshop1.png';\nimport bookShopImg2 from '../images/bookshop2.png';\nimport bookShopImg3 from '../images/bookshop3.png';\nimport closeSvg from '../images/icons/sprite.svg';\n\n\n\nfunction createBookInfoMarkup({\n  _id,\n  book_image,\n  title,\n  description,\n  author,\n  buy_links,\n}) {\n  return `<div class=\"modal-wrapper\"><button class=\"close-modalbtn js-close-modalbtn\" aria-label=\"Close modal\">\n  <svg class=\"popup-about-book__close-btn-iconbtn js-close-modalbtn\" width=\"24\" height=\"24\"><use class=\"js-close-modalbtn\" href=\"${closeSvg}#icon-close\"></use></svg></button>\n  \n  <div class='popup__wrapper'>\n     <img class=\"popup__book-image\" src=\"${book_image}\" alt=\"cover\" width=\"192\" height=\"281\">\n<div class=\"popup__text-content\">\n  <h2 class=\"popup__book_title\">${title}</h2>\n  <h3 class=\"popup__book_author\">${author}</h3>\n  <p class=\"popup__book_description\">${description}</p>\n  <ul class=\"popup__shopping-links-container\">\n    <li>\n      <a href=\"${buy_links[0].url}\" target=\"blank\" rel=\"nofollow noopener noreferrer\" aria-label=\"Link to shop\"\n        class=\"popup__shopping-links-icon\">\n        <img src=\"${amazonImg1}\" srcset=\"${amazonImg2} 2x, ${amazonImg3} 3x\" alt=\"Logo of shop\" width=\"62\">\n      </a>\n    </li>\n    <li>\n      <a href=\"${buy_links[1].url}\" target=\"blank\" rel=\"nofollow noopener noreferrer\" aria-label=\"Link to shop\"\n        class=\"popup__shopping-links-icon\">\n        <img src=\"${appleShopImg1}\" srcset=\"${appleShopImg2} 2x, ${appleShopImg3} 3x\" alt=\"Logo of shop\" width=\"33\">\n      </a>\n    </li>\n    <li>\n      <a href=\"${buy_links[2].url}\" target=\"blank\" rel=\"nofollow noopener noreferrer\" aria-label=\"Link to shop\"\n        class=\"popup__shopping-links-icon\">\n        <img src=\"${bookShopImg1}\" srcset=\"${bookShopImg2} 2x, ${bookShopImg3} 3x\" alt=\"Logo of shop\" width=\"30\">\n                  </a>\n    </li>\n  </ul>\n</div>\n</div>\n<button type=\"button\" data-id =\"${_id}\"class=\"add-bookBtn\" >Add to shopping list</button>\n</div>`;\n}\n\n{/* <p class=\"under-btn-text\">Сongratulations! You have added the book to the shopping list. <br> To delete, press the button “Remove from the shopping list”</p> */}\n\n\n\nfunction adjustShoppingListButton(bookId) {\n  const shoppingIdList = JSON.parse(localStorage.getItem(common.KEY_SHOPPING))?? [];\n   if (!shoppingIdList.includes(bookId)) {\n    const addButton = document.querySelector('.add-bookBtn');\n    addButton.textContent = 'add to the shopping list';\n  } else {\n    const addButton = document.querySelector('.add-bookBtn');\n    addButton.textContent = 'remove from the shopping list';\n  }\n}\n\nfunction populateModal(itemId) {\n  getBookById(itemId).then(data => {\n    refs.modalBookInfo.innerHTML = createBookInfoMarkup(data);\n    adjustShoppingListButton(itemId);\n  });\n}\n\nrefs.categoryBookshelf?.addEventListener('click', e => {\n  const parentElement = e.target.closest('.bookshelf-book');\n    if (parentElement) {\n    const bookId = parentElement.getAttribute('id');\n    populateModal(bookId);\n    modal.style.display = 'block';\n  }\n});\n\nfunction closeModalHandler(e) {\n  if (e.target.classList.contains('js-close-modalbtn')) {\n    refs.modalBookInfo.innerHTML = '';\n    modal.style.display = 'none';\n  }\n}\n\nrefs.modal.addEventListener('click', closeModalHandler);\n\n// Close the modal when clicking outside of it\nwindow.addEventListener('click', e => {\n  if (e.target === modal) {\n    modal.style.display = 'none';\n    refs.modalBookInfo.innerHTML = '';\n  }\n});\n\n// Event listener for the \"Escape\" key\ndocument.addEventListener('keydown', function (e) {\n  if (e.key === 'Escape') {\n    modal.style.display = 'none';\n    refs.modalBookInfo.innerHTML = '';\n  }\n});\n\nrefs.modal.addEventListener('click', e => {\n    if (e.target.classList.contains('add-bookBtn')) {\n    const bookId = e.target.dataset.id;\n    const shoppingIdList = JSON.parse(localStorage.getItem(common.KEY_SHOPPING))?? [];\n    if (!shoppingIdList.includes(bookId)) {\n      shoppingIdList.push(bookId);\n      const addButton = document.querySelector('.add-bookBtn');\n      addButton.textContent = 'remove from the shopping list';\n      localStorage.setItem(common.KEY_SHOPPING, JSON.stringify(shoppingIdList));\n    } else {\n      const bookIndex = shoppingIdList.findIndex(id => id === bookId);\n      shoppingIdList.splice(bookIndex, 1);\n      const addButton = document.querySelector('.add-bookBtn');\n      addButton.textContent = 'add to the shopping list';\n      localStorage.setItem(common.KEY_SHOPPING, JSON.stringify(shoppingIdList));\n    }\n  }\n});","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"ei4R3\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"6hscl\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"bvZ8I\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"cYITP\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"lqiqk\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"9Som1\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"ijrEh\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"1jQa8\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"aaRVJ\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"gwbLm\");","const scrollUpBtn = document.querySelector('.scroll-btn');\n\nconst onScroll = () => {\n  if (window.scrollY > 100) {\n    scrollUpBtn.classList.add('show-scroll-btn');\n  } else {\n    scrollUpBtn.classList.remove('show-scroll-btn');\n  }\n};\n\nconst scrollUp = () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n};\n\nscrollUpBtn.addEventListener('click', scrollUp);\ndocument.addEventListener('scroll', onScroll);"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$dcWCw","getAllCategoriesList","then","data","categoriesList","$4Nugj","refs","innerHTML","map","category","concat","list_name","join","$c5446399a2421997$var$contentTitle","bookshelfTitle","$c5446399a2421997$var$renderCategoriesList","bestsellers","categoryBookshelf","param1","books","param","_id","book_image","title","author","$c5446399a2421997$var$createBookshelfMarkup","$c5446399a2421997$var$renderBooksByCategory","bookslist","book","$c5446399a2421997$var$createBooksByCategoryMarkup","classList","add","window","scrollTo","top","behavior","$c5446399a2421997$var$currentCategoryToggle","document","querySelector","remove","getBestSellers","addEventListener","e","target","contains","dataset","accentedCategory","split","notAccentedCategory","slice","lastAccentedCategory","getBooksByCategory","allCategories","$782bda04b73c62c6$exports","getBundleURL","resolve","$9c0c3f56715eaf30$exports","$0508ad238f12d578$exports","$4ceaea04b2f900c8$exports","$ce3e6b6dea94d6d8$exports","$0b80a733994c755d$exports","$d9948123a639baeb$exports","$2e7a0483eb8acedd$exports","$85a3708a5bec3fae$exports","$57c732600be43bf5$var$ref","$57c732600be43bf5$var$populateModal","itemId","getBookById","description","buy_links","bookId","ref1","modalBookInfo","$parcel$interopDefault","$cf1b25e3d2caa928$exports","localStorage","getItem","$fJh0j","common","KEY_SHOPPING","includes","textContent","parentElement","closest","getAttribute","modal","style","display","key","ref2","shoppingIdList","bookIndex","findIndex","splice","setItem","stringify","push","$17f8071d162f96bc$var$scrollUpBtn","scrollY"],"version":3,"file":"index.6dafbd1c.js.map"}