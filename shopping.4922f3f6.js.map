{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-5b76ef38b5ab8441.js","src/main.js","src/js/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-5d3ff8e14449281e.js","node_modules/@parcel/runtime-js/lib/runtime-65ab03ddf125a033.js","node_modules/@parcel/runtime-js/lib/runtime-16ed0053f0892a25.js","node_modules/@parcel/runtime-js/lib/runtime-a9ff8e4b8cb09dde.js","node_modules/@parcel/runtime-js/lib/runtime-801012f1cba7ef98.js","node_modules/@parcel/runtime-js/lib/runtime-c4dd06d5496254ba.js","node_modules/@parcel/runtime-js/lib/runtime-4304374e883eead3.js","node_modules/@parcel/runtime-js/lib/runtime-04b78a9112e6143a.js","node_modules/@parcel/runtime-js/lib/runtime-cabaf5ade15416d7.js","node_modules/@parcel/runtime-js/lib/runtime-8981f26aed92fb7a.js","node_modules/@parcel/runtime-js/lib/runtime-0164ded1b4fb3644.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bc4bY\\\":\\\"shopping.4922f3f6.js\\\",\\\"gwbLm\\\":\\\"sprite.3e83a086.svg\\\",\\\"ei4R3\\\":\\\"amazon1.c9513f1c.png\\\",\\\"6hscl\\\":\\\"amazon2.468bb970.png\\\",\\\"bvZ8I\\\":\\\"amazon3.25420e04.png\\\",\\\"cYITP\\\":\\\"apple1.99f5b86b.png\\\",\\\"lqiqk\\\":\\\"apple2.ceabda8c.png\\\",\\\"9Som1\\\":\\\"apple3.8096cc16.png\\\",\\\"ijrEh\\\":\\\"bookshop1.579c7059.png\\\",\\\"1jQa8\\\":\\\"bookshop2.b7dbaeb3.png\\\",\\\"aaRVJ\\\":\\\"bookshop3.1927bef9.png\\\",\\\"6xjwJ\\\":\\\"books1.764d3daa.png\\\",\\\"g6mvk\\\":\\\"index.5183f34b.js\\\"}\"));","import './js/booksAPI-service.js';\nimport './js/shopping-list.js';","import { refs } from './refs';\nimport { getBookById } from './booksAPI-service';\nimport dumpSvg from '../images/icons/sprite.svg';\nimport amazonImg1 from '../images/amazon1.png';\nimport amazonImg2 from '../images/amazon2.png';\nimport amazonImg3 from '../images/amazon3.png';\nimport appleShopImg1 from '../images/apple1.png';\nimport appleShopImg2 from '../images/apple2.png';\nimport appleShopImg3 from '../images/apple3.png';\nimport bookShopImg1 from '../images/bookshop1.png';\nimport bookShopImg2 from '../images/bookshop2.png';\nimport bookShopImg3 from '../images/bookshop3.png';\nimport books from '../images/books1.png';\n\nconst shoppingBookIdsList = JSON.parse(localStorage.getItem('shoppingList'));\n\nfunction createShoppingListMarkup({\n  _id,\n  book_image,\n  title,\n  list_name,\n  description,\n  author,\n  buy_links,\n}) {\n  return `<li data-id = ${_id}><div class=\"shopping-list-bookinfo-wrapper\">\n  <button class=\"delete-book-btn js-dump-btn\" aria-label=\"Delete added book\">\n    <svg class=\"js-dump-btn\" width=\"34\" height=\"34\">\n      <use class=\"js-dump-btn\" href=\"${dumpSvg}#icon-dump\"></use>\n    </svg>\n  </button>\n  <div class=\"shopping-list-info-wrapper\">\n    <img\n      class=\"shopping-list-book-image\"\n      src=\"${book_image}\"\n      alt=\"cover\"\n      width=\"192\"\n      height=\"281\"\n    />\n    <div class=\"shopping-list-text-content\">\n        <div class=\"another-wrapper\">\n      <h2 class=\"shopping-list-book_title\">${title}</h2>\n      <h3 class=\"shopping-list-book_category\">${list_name}</h3>\n      <p class=\"shopping-list-description\">${description}</p>\n    </div>\n      <div class=\"author-links-wrapper\">\n        <h3 class=\"shopping-list-author\">${author}</h3>\n        <ul class=\"shopping-list-links-container\">\n          <li>\n            <a\n              href=\"${buy_links[0].url}\"\n              target=\"blank\"\n              rel=\"nofollow noopener noreferrer\"\n              aria-label=\"Link to shop\"\n              class=\"shopping-list-links-icon\"\n            >\n              <img\n                src=\"${amazonImg1}\"\n                srcset=\"${amazonImg2} 2x, ${amazonImg3} 3x\"\n                alt=\"Logo of shop\"\n                width=\"62\"\n              />\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"${buy_links[1].url}\"\n              target=\"blank\"\n              rel=\"nofollow noopener noreferrer\"\n              aria-label=\"Link to shop\"\n              class=\"shopping-list-links-icon\"\n            >\n              <img\n                src=\"${appleShopImg1}\"\n                srcset=\"${appleShopImg2} 2x, ${appleShopImg3} 3x\"\n                alt=\"Logo of shop\"\n                width=\"33\"\n              />\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"${buy_links[2].url}\"\n              target=\"blank\"\n              rel=\"nofollow noopener noreferrer\"\n              aria-label=\"Link to shop\"\n              class=\"shopping-list-links-icon\"\n            >\n              <img\n                src=\"${bookShopImg1}\"\n                srcset=\"${bookShopImg2} 2x, ${bookShopImg3} 3x\"\n                alt=\"Logo of shop\"\n                width=\"30\"\n              />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div></li>`;\n}\n\nfunction populateShoppingList(ids) {\n  ids.map(id =>\n    getBookById(id).then(data => {\n      refs.shoppingList.insertAdjacentHTML(\n        'beforeend',\n        createShoppingListMarkup(data)\n      );\n    })\n  );\n}\n\nfunction showEmptyShoppingListMessage() {\n  refs.shoppingListEmpty.innerHTML = `\n    <p class=\"shopping-list-empty-info\">\n      This page is empty, add some books and proceed to order.\n    </p>\n    <img class=\"shopping-list-empty-bg\" src=\"${books}\" alt=\"books\" />\n  `;\n}\n\nif (shoppingBookIdsList === null || shoppingBookIdsList.length === 0) {\n  showEmptyShoppingListMessage();\n} else populateShoppingList(shoppingBookIdsList);\n\nfunction deleteShoppingListItem(e) {\n  if (e.target.classList.contains('js-dump-btn')) {\n    const bookId = e.target.closest('li').dataset.id;\n    const bookIndex = shoppingBookIdsList.findIndex(id => id === bookId);\n    shoppingBookIdsList.splice(bookIndex, 1);\n    localStorage.setItem('shoppingList', JSON.stringify(shoppingBookIdsList));\n    refs.shoppingList.innerHTML = '';\n    if (shoppingBookIdsList === null || shoppingBookIdsList.length === 0) {\n      showEmptyShoppingListMessage();\n    } else populateShoppingList(shoppingBookIdsList);\n  }\n}\n\nrefs.shoppingList.addEventListener('click', deleteShoppingListItem);\n","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"gwbLm\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"ei4R3\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"6hscl\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"bvZ8I\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"cYITP\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"lqiqk\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"9Som1\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"ijrEh\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"1jQa8\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"aaRVJ\");","module.exports = require('./helpers/bundle-url').getBundleURL('bc4bY') + require('./helpers/bundle-manifest').resolve(\"6xjwJ\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$4Nugj","$d5127248855cfb0c$exports","getBundleURL","resolve","$8eb41e1ca9fce9aa$exports","$7c6c7dc0c9153f36$exports","$3c35069bb27b9df9$exports","$6a4e25ff41fb3dc2$exports","$24f62f1a8edda5a0$exports","$88d645b1bed0eb2c$exports","$7901c0a7f6e89ada$exports","$2b19a22e6d2b7986$exports","$25251a433d0c7631$exports","$137df80b07ec7839$exports","$399cd7aec2522034$var$shoppingBookIdsList","localStorage","getItem","$399cd7aec2522034$var$populateShoppingList","ids","map","$dcWCw","getBookById","then","data","param","_id","book_image","title","list_name","description","author","buy_links","refs","shoppingList","insertAdjacentHTML","concat","$parcel$interopDefault","$399cd7aec2522034$var$showEmptyShoppingListMessage","shoppingListEmpty","innerHTML","addEventListener","e","target","classList","contains","bookId","closest","dataset","bookIndex","findIndex","splice","setItem","stringify"],"version":3,"file":"shopping.4922f3f6.js.map"}